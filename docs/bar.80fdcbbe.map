{"version":3,"sources":["js/vizualizer0.3.js","js/bar.js"],"names":["Vizualizer","id","dataLength","AudioContext","audioContext","webkitAudioContext","Error","audioElement","document","getElementById","audioSrc","createMediaElementSource","analyser","createAnalyser","connect","destination","dataArray","Uint8Array","frequencyData","getByteFrequencyData","width","getElementsByTagName","clientWidth","height","clientHeight","svg","d3","select","append","attr","barNumber","bars","selectAll","data","enter","i","bind","attribut","value","starsNumber","stars","Math","random","text","y","x","mean","circle","href","image","scaleCoeff","src","setAttribute","requestAnimationFrame","renderFunction","pause","heart","transition","duration","delay","blackHeart","radius","circles","colorSquare","color","style","ease","man","headXpos","headYpos","head","leftEye","rightEye","smile","speech","body","n","vizualizer","initBars","initStars","initText","initCircle","secondToFrame","second","audioEl","addEventListener","changeAudio","littlestar","play","stop","setTimeout","createMainCharacter","getReadyMan","volume","fadeManSpeech","startMainCharacter","releaseHeart","remove","releaseCircles","fadeMan","releaseColorSquare","startColorSquareBoom","appearMan","renderCircle","renderStars","renderBars","renderText","setRenderFunction","start"],"mappings":"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","file":"bar.80fdcbbe.map","sourceRoot":"..","sourcesContent":["import heart from './../img/heart.svg'\r\nimport blackHeart from './../img/blackHeart.svg'\r\n\r\nexport default class Vizualizer {\r\n\r\n    constructor(id, dataLength) {\r\n        if (typeof AudioContext !== \"undefined\") {\r\n            this.audioContext = new AudioContext();\r\n        } else if (typeof webkitAudioContext !== \"undefined\") {\r\n            this.audioContext = new webkitAudioContext();\r\n        } else {\r\n            throw new Error('AudioContext not supported. :(');\r\n        }\r\n        this.audioElement = document.getElementById(id);\r\n        this.audioSrc = this.audioContext.createMediaElementSource(this.audioElement);\r\n        this.analyser = this.audioContext.createAnalyser();\r\n        this.audioSrc.connect(this.analyser);\r\n        this.audioSrc.connect(this.audioContext.destination);\r\n        this.dataArray = new Uint8Array(dataLength);\r\n        this.frequencyData = this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.width = document.getElementsByTagName(\"body\")[0].clientWidth;\r\n        this.height = document.getElementsByTagName(\"body\")[0].clientHeight;\r\n\r\n        this.svg = d3.select(\"body\").append(\"svg\")\r\n            .attr(\"width\", this.width)\r\n            .attr(\"height\", this.height);\r\n    }\r\n\r\n    // Bar Vizualizer\r\n\r\n    initBars(barNumber) {\r\n        this.barNumber = barNumber;\r\n        this.bars = this.svg.selectAll(\"rect\").data(this.dataArray).enter().append(\"rect\");\r\n        this.bars.attr(\"width\", this.width / this.barNumber)\r\n            .attr(\"y\", this.height / 2)\r\n            .attr(\"x\", function (data, i) { return (this.width / this.barNumber * i); }.bind(this))\r\n            .attr(\"style\", \"fill:#000;\");\r\n    }\r\n\r\n    setAttributeBars(attribut, value) {\r\n        this.bars.attr(attribut, value);\r\n    }\r\n\r\n    renderBars() {\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.bars.data(this.dataArray)\r\n            .attr(\"height\", function (data) { return (1 + 0.5 * this.height * data / 255); }.bind(this))\r\n            .attr(\"style\", function (data) { return \"fill: rgb(\" + 125 + \",\" + (255 - data) + \",\" + data + \");\"; });\r\n    }\r\n\r\n    // Star Visualizer\r\n\r\n    initStars(starsNumber) {\r\n        this.starsNumber = starsNumber;\r\n        this.stars = this.svg.selectAll(\"circle\")\r\n            .data(this.dataArray)\r\n            .enter()\r\n            .append(\"circle\");\r\n        this.stars.attr(\"cx\", function (data) { return Math.random() * this.width; }.bind(this))\r\n            .attr(\"cy\", function (data) { return Math.random() * this.height; }.bind(this))\r\n            .attr(\"fill\", \"#fff\");\r\n    }\r\n\r\n    setAttributeStars(attribut, value) {\r\n        this.stars.attr(attribut, value);\r\n    }\r\n\r\n    renderStars() {\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.stars.data(this.dataArray)\r\n            .attr(\"style\", function (data) { return \"opacity:\" + data / 255 + \";\"; })\r\n            .attr(\"r\", function (data) { return data / 255 * 10; });\r\n    }\r\n\r\n    // Text Visualizer\r\n\r\n    initText(text, y, x) {\r\n        x = x || this.width / 2;\r\n        y = y || this.height / 2;\r\n\r\n        this.text = this.svg.append(\"text\")\r\n            .data(this.dataArray)\r\n            .text(text)\r\n            .attr(\"font-size\", 0)\r\n            .attr(\"fill\", \"#fff\")\r\n            .attr(\"opacity\", \"0.7\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr(\"x\", x)\r\n            .attr(\"y\", y);\r\n    }\r\n\r\n    setAttributeText(attribut, value) {\r\n        this.text.attr(attribut, value);\r\n    }\r\n\r\n    renderText() {\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.text.data(this.dataArray)\r\n            .attr(\"font-size\", 50 + d3.mean(this.dataArray) * 0.5 * this.height / 255);\r\n    }\r\n\r\n    //Circle Visualizer\r\n\r\n    initCircle() {\r\n        this.circle = this.svg.append(\"circle\")\r\n            .data(this.dataArray)\r\n            .attr(\"cx\", this.width / 2)\r\n            .attr(\"cy\", this.height / 2)\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"stroke\", \"#fff\")\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"opacity\", \"0.7\");\r\n    }\r\n\r\n    setAttributeCircle(attribut, value) {\r\n        this.circle.attr(attribut, value);\r\n    }\r\n\r\n    renderCircle() {\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.circle.data(this.dataArray)\r\n            .attr(\"r\", 150 + d3.mean(this.dataArray) * 0.5 * this.height / 255);\r\n    }\r\n\r\n    //Image Visualizer\r\n\r\n    initImage(href, width, height, x, y) {\r\n        width = width || this.width / 2;\r\n        height = height || this.height / 2;\r\n        x = x || this.width / 4;\r\n        y = y || this.height / 4;\r\n\r\n        this.image = this.svg.append(\"image\")\r\n            .data(this.dataArray)\r\n            .attr(\"x\", x)\r\n            .attr(\"y\", y)\r\n            .attr(\"width\", width)\r\n            .attr(\"height\", height)\r\n            .attr(\"xlink:href\", href)\r\n            .attr(\"preserveAspectRatio\", \"xMidYMid slice\");\r\n        this.image.x = x;\r\n        this.image.y = y;\r\n        this.image.width = width;\r\n        this.image.height = height;\r\n    }\r\n\r\n    setAttributeImage(attribut, value) {\r\n        this.image.attr(attribut, value);\r\n    }\r\n\r\n    renderImage() {\r\n        const scaleCoeff = 1 + d3.mean(this.dataArray) / 255;\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.image.data(this.dataArray)\r\n            .attr(\"transform\", \"scale(\" + scaleCoeff + \")\")\r\n            .attr(\"x\", this.image.x - (this.image.width * scaleCoeff - this.image.width) / scaleCoeff)\r\n            .attr(\"y\", this.image.y - (this.image.height * scaleCoeff - this.image.height) / scaleCoeff);\r\n    }\r\n\r\n    //Vizualizer Functions\r\n\r\n    changeAudio(src) {\r\n        this.audioElement.setAttribute(\"src\", src);\r\n    }\r\n\r\n    start() {\r\n        requestAnimationFrame(this.renderFunction);\r\n    }\r\n\r\n    stop() {\r\n        this.audioElement.pause();\r\n    }\r\n\r\n    setRenderFunction(renderFunction) {\r\n        this.renderFunction = renderFunction;\r\n    }\r\n\r\n    // A Little Story\r\n\r\n    releaseHeart() {\r\n        this.heart = this.svg\r\n            .selectAll(\"image\")\r\n            .data(this.dataArray)\r\n            .enter()\r\n            .append(\"image\")\r\n            .attr(\"x\", this.width - 175)\r\n            .attr(\"y\", this.height - 100)\r\n            .attr(\"width\", 25)\r\n            .attr(\"height\", 25)\r\n            .attr(\"xlink:href\", heart)\r\n            .attr(\"preserveAspectRatio\", \"xMidYMid slice\")\r\n            .attr(\"fill\", \"#fff\")\r\n            .transition()\r\n            .attr(\"x\", function (data, i) { return Math.random() * 2000 - 1000; })\r\n            .attr(\"y\", function (data, i) { return -Math.random() * 1000 - 30; })\r\n            .duration(10000)\r\n            .delay(function (data, i) { return i / 896 * 10000; });\r\n\r\n        this.blackHeart = this.svg.append(\"image\")\r\n            .attr(\"width\", 25)\r\n            .attr(\"height\", 25)\r\n            .attr(\"x\", this.width - 175)\r\n            .attr(\"y\", this.height - 100)\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"xlink:href\", blackHeart);\r\n        this.blackHeart\r\n            .transition()\r\n            .attr(\"x\", this.width / 2)\r\n            .attr(\"y\", this.height / 2)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10000)\r\n            .delay(7000)\r\n            .transition()\r\n            .attr(\"x\", -this.width / 2 * 4)\r\n            .attr(\"y\", -this.height / 2 * 4)\r\n            .attr(\"width\", this.width * 5)\r\n            .attr(\"height\", this.height * 5)\r\n            .duration(5000);\r\n    }\r\n\r\n    releaseCircles() {\r\n        const i = 0;\r\n        const radius = 150 + 255 * 0.5 * this.height / 255;\r\n\r\n        this.circles = this.svg\r\n            .append(\"circle\")\r\n            .attr(\"cx\", this.width / 2)\r\n            .attr(\"cy\", this.height / 2)\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"stroke\", \"#fff\")\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"opacity\", \"0\")\r\n            .attr(\"r\", 50);\r\n\r\n        this.circles\r\n            .transition()\r\n            .attr(\"opacity\", 1)\r\n            .duration(5000)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(100)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500);\r\n    }\r\n\r\n    releaseColorSquare() {\r\n        this.colorSquare = this.svg.append(\"rect\")\r\n            .attr(\"x\", this.width + 150)\r\n            .attr(\"y\", this.height / 2 - 100)\r\n            .attr(\"height\", 100)\r\n            .attr(\"width\", 100)\r\n            .attr(\"fill\", \"#7E45E8\");\r\n\r\n        this.colorSquare.transition()\r\n            .attr(\"x\", this.width / 2 + 100)\r\n            .duration(10000);\r\n    }\r\n\r\n    changeColorSquareColor(color, duration) {\r\n        this.colorSquare.transition()\r\n            .style(\"fill\", color)\r\n            .duration(duration);\r\n    }\r\n\r\n    startColorSquareBoom() {\r\n        this.colorSquare.transition()\r\n            .style(\"fill\", \"#9FFF6D\")\r\n            .attr(\"y\", this.height / 2 - 125)\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#7E45E8\")\r\n            .attr(\"y\", this.height / 2 - 150)\r\n            .duration(800)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#B0FFAD\")\r\n            .attr(\"y\", this.height / 2 - 175)\r\n            .duration(800)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#6D60E8\")\r\n            .attr(\"y\", this.height / 2 - 210)\r\n            .duration(800)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#9FFF6D\")\r\n            .attr(\"y\", this.height / 2 - 160)\r\n            .duration(500)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#7E45E8\")\r\n            .attr(\"y\", this.height / 2 - 100)\r\n            .ease(\"linear\")\r\n            .duration(400)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .duration(500);\r\n    }\r\n\r\n    createMainCharacter() {\r\n        let text;\r\n        this.man = {};\r\n        this.man.headXpos = this.width / 2;\r\n        this.man.headYpos = this.height / 2 - 100;\r\n        this.man.head = this.svg.append(\"circle\")\r\n            .attr(\"r\", 20)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"#f0f0f0\")\r\n            .attr(\"cx\", this.width / 2)\r\n            .attr(\"cy\", this.height / 2 - 100);\r\n        this.man.leftEye = this.svg.append(\"circle\")\r\n            .attr(\"r\", 2)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"#000\")\r\n            .attr(\"cx\", this.width / 2 + 6)\r\n            .attr(\"cy\", this.height / 2 - 105);\r\n        this.man.rightEye = this.svg.append(\"circle\")\r\n            .attr(\"r\", 2)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"#000\")\r\n            .attr(\"cx\", this.width / 2 - 6)\r\n            .attr(\"cy\", this.height / 2 - 105);\r\n\r\n        this.smile = [\r\n            [this.width / 2 - 8, this.height / 2 - 93],\r\n            [this.width / 2 - 2, this.height / 2 - 90],\r\n            [this.width / 2 + 2, this.height / 2 - 90],\r\n            [this.width / 2 + 8, this.height / 2 - 93]\r\n        ];\r\n\r\n        text = this.smile[0][0] + \",\" + this.smile[0][1];\r\n        text += \" \" + this.smile[1][0] + \",\" + this.smile[1][1];\r\n        text += \" \" + this.smile[2][0] + \",\" + this.smile[2][1];\r\n        text += \" \" + this.smile[3][0] + \",\" + this.smile[3][1];\r\n\r\n        this.man.smile = this.svg.append(\"polyline\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"points\", text);\r\n\r\n        this.man.speech = this.svg.append(\"text\")\r\n            .text(\"Hello Everybody:\")\r\n            .attr(\"font-size\", 40)\r\n            .attr(\"fill\", \"#000\")\r\n            .attr(\"opacity\", \"1\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr(\"x\", this.width / 2 - 50)\r\n            .attr(\"y\", this.height / 2 - 150);\r\n\r\n        this.man.body = this.svg.append(\"rect\")\r\n            .attr(\"x\", this.width / 2 - 25)\r\n            .attr(\"y\", this.height / 2 - 70)\r\n            .attr(\"width\", 50)\r\n            .attr(\"height\", 70)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"#f0f0f0\");\r\n    }\r\n\r\n    fadeManSpeech(duration) {\r\n        \"use strict\";\r\n        this.man.speech.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n    }\r\n\r\n    fadeMan(duration) {\r\n        \"use strict\";\r\n        this.man.head.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n        this.man.body.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n        this.man.smile.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n        this.man.leftEye.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n        this.man.rightEye.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n    }\r\n\r\n    appearMan(duration) {\r\n        \"use strict\";\r\n        this.man.head.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n        this.man.body.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n        this.man.smile.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n        this.man.leftEye.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n        this.man.rightEye.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n    }\r\n\r\n    getReadyMan() {\r\n        this.man.head\r\n            .transition()\r\n            .attr(\"transform\", \"translate(50, 0)\")\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 50) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(6000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 25) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(1000)\r\n            .ease(\"linear\");\r\n        this.man.rightEye\r\n            .transition()\r\n            .attr(\"transform\", \"translate(65, 0)\")\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 35) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(6000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 40) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(1000)\r\n            .ease(\"linear\");\r\n        this.man.leftEye\r\n            .transition()\r\n            .attr(\"transform\", \"translate(10, 0)\")\r\n            .duration(200)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .duration(20);\r\n\r\n        this.man.body\r\n            .transition()\r\n            .attr(\"transform\", \"translate(50, 0)\")\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 50) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(6000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 25) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(1000)\r\n            .ease(\"linear\");\r\n\r\n        this.man.smile\r\n            .transition()\r\n            .attr(\"transform\", \"translate(65, 0)\")\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"points\", this.smile[0][0] + \",\" + this.smile[0][1] + \" \" + this.smile[1][0] + \",\" + this.smile[1][1] + \" \" + this.smile[2][0] + \",\" + this.smile[2][1])\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 35) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(6000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 40) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(1000)\r\n            .ease(\"linear\");\r\n    }\r\n\r\n    startMainCharacter() {\r\n        this.man.head\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 100) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(3000)\r\n            .ease(\"linear\");\r\n        this.man.rightEye\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 15) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 105) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(3000)\r\n            .ease(\"linear\");\r\n\r\n        this.man.body\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 100) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(3000)\r\n            .ease(\"linear\");\r\n\r\n        this.man.smile\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 7) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .attr(\"points\", this.smile[1][0] + \",\" + this.smile[1][1] + \" \" + this.smile[2][0] + \",\" + this.smile[2][1] + \" \" + this.smile[3][0] + \",\" + this.smile[3][1])\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 113) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(3000)\r\n            .ease(\"linear\");\r\n    }\r\n\r\n}\r\n","import Vizualizer from './vizualizer0.3';\r\nimport littlestar from './../audio/12-little-star.mp3';\r\n\r\nlet n = 1024,\r\n    i = 0;\r\n\r\nconst vizualizer = new Vizualizer(\"audio1\", n);\r\nvizualizer.initBars(100);\r\nvizualizer.initStars(n);\r\nvizualizer.initText(\"Have a good day\");\r\nvizualizer.initCircle();\r\nconst secondToFrame = second => 60 * second;\r\n\r\nconst audioEl = document.getElementById(\"audio1\");\r\n\r\naudioEl.addEventListener(\"ended\", () => {\r\n    vizualizer.changeAudio(littlestar);\r\n    vizualizer.audioElement.play();\r\n\r\n    audioEl.addEventListener(\"ended\", () => {\r\n        vizualizer.text.text(\"The End\");\r\n        vizualizer.stop();\r\n    });\r\n});\r\n\r\nconst renderFunction = function () {\r\n    setTimeout(() => {\r\n        requestAnimationFrame(this.renderFunction);\r\n        switch (i) {\r\n            case 1:\r\n                this.createMainCharacter();\r\n            case secondToFrame(3):\r\n                this.man.speech.text(\"Enjoy the show :)\");\r\n                break;\r\n            case secondToFrame(7):\r\n                this.man.speech.text(\"Use Chrome for better compatibility\");\r\n                break;\r\n            case secondToFrame(11):\r\n                this.man.speech.text(\"Advice: FullScreen with F11 then refresh with F5\");\r\n                break;\r\n            case secondToFrame(18):\r\n                this.man.speech.text(\"Ready ? Let's go!\");\r\n                break;\r\n            case secondToFrame(20):\r\n                this.getReadyMan();\r\n                break;\r\n            case secondToFrame(28):\r\n                this.audioElement.play();\r\n                this.audioElement.volume = 0.5;\r\n                this.man.speech.attr(\"font-size\", 60);\r\n                this.man.speech.text(\"A Little Story\");\r\n                break;\r\n            case secondToFrame(32):\r\n                this.fadeManSpeech(1000);\r\n                this.startMainCharacter();\r\n                break;\r\n            case secondToFrame(38):\r\n                this.releaseHeart();\r\n                break;\r\n            case secondToFrame(60):\r\n                this.svg.style(\"background-color\", \"#000\");\r\n                this.blackHeart.remove();\r\n                this.man.head.attr(\"transform\", null);\r\n                this.man.body.attr(\"transform\", null);\r\n                this.man.leftEye.attr(\"opacity\", 1)\r\n                    .attr(\"transform\", null);\r\n                this.man.rightEye.attr(\"transform\", null);\r\n\r\n                this.man.smile.attr(\"transform\", null);\r\n\r\n                this.man.speech.attr(\"fill\", \"white\")\r\n                    .attr(\"opacity\", 1);\r\n                this.man.speech.text(\" \");\r\n                break;\r\n            case secondToFrame(69):\r\n                this.releaseCircles();\r\n                break;\r\n            case secondToFrame(100):\r\n                this.circles.remove();\r\n                this.circle.remove();\r\n                break;\r\n            case secondToFrame(116):\r\n                this.fadeMan();\r\n                break;\r\n            case secondToFrame(130):\r\n                this.releaseColorSquare();\r\n                break;\r\n            case secondToFrame(142):\r\n                this.startColorSquareBoom();\r\n                break;\r\n            case secondToFrame(185):\r\n                this.bars.transition()\r\n                    .attr(\"opacity\", \"0\")\r\n                    .duration(5000)\r\n                    .ease(\"linear\");\r\n                break;\r\n            case secondToFrame(61): // Poeme\r\n                this.man.speech.text(\"I am like a god\");\r\n                break;\r\n            case secondToFrame(64):\r\n                this.man.speech.text(\"Who can create everything\");\r\n                break;\r\n            case secondToFrame(68):\r\n                this.man.speech.text(\"The shadow of a planet\");\r\n                break;\r\n            case secondToFrame(72):\r\n                this.man.speech.text(\"Is a beautiful thing\");\r\n                break;\r\n            case secondToFrame(76):\r\n                this.man.speech.text(\"But I am feeling odd\");\r\n                break;\r\n            case secondToFrame(79):\r\n                this.man.speech.text(\"Maybe I am not ready yet\");\r\n                break;\r\n            case secondToFrame(83):\r\n                this.man.speech.text(\"To create something\");\r\n                break;\r\n            case secondToFrame(86):\r\n                this.man.speech.text(\"That will be perfect\");\r\n                break;\r\n            case secondToFrame(89):\r\n                this.man.smile\r\n                    .attr(\"points\", this.smile[0][0] + \",\" + this.smile[0][1] + \" \" + this.smile[1][0] + \",\" + this.smile[1][1] + \" \" + this.smile[2][0] + \",\" + this.smile[2][1] + \" \" + this.smile[3][0] + \",\" + this.smile[3][1]);\r\n                this.man.speech.text(\"Nothing will stop me\");\r\n                break;\r\n            case secondToFrame(92):\r\n                this.man.speech.text(\"I will transform the sky\");\r\n                break;\r\n            case secondToFrame(95):\r\n                this.man.speech.text(\"I hope you are ready\");\r\n                break;\r\n            case secondToFrame(98):\r\n                this.man.speech.text(\"I am prepared to try\");\r\n                break;\r\n            case secondToFrame(103):\r\n                this.man.speech.text(\"Twinkle Twinkle Little Star\");\r\n                break;\r\n            case secondToFrame(107):\r\n                this.man.speech.text(\"The stronger the music is\");\r\n                break;\r\n            case secondToFrame(110):\r\n                this.man.speech.text(\"The brighter you are\");\r\n                break;\r\n            case secondToFrame(114):\r\n                this.fadeManSpeech(1000);\r\n                break;\r\n            case secondToFrame(163):\r\n                this.appearMan(1000);\r\n                break;\r\n            case secondToFrame(165):\r\n                this.man.speech.attr(\"opacity\", 1);\r\n                this.man.speech.text(\"See you soon\");\r\n                break;\r\n            case secondToFrame(170):\r\n                this.fadeManSpeech(1000);\r\n                this.fadeMan(1000);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (i >= secondToFrame(76) && i < secondToFrame(100)) {\r\n            this.renderCircle();\r\n        } else if (i >= secondToFrame(115) && i < secondToFrame(145)) {\r\n            this.renderStars();\r\n        } else if (i >= secondToFrame(144.5) && i < secondToFrame(185)) {\r\n            this.renderBars();\r\n        } else if (i >= secondToFrame(185)) {\r\n            this.renderStars();\r\n            this.renderText();\r\n        }\r\n        i += 1;\r\n    }, 1000 / 60);\r\n}.bind(vizualizer);\r\n\r\nvizualizer.setRenderFunction(renderFunction);\r\nvizualizer.start();\r\n"]}