{"version":3,"sources":["js/vizualizer0.3.js","js/bar.js"],"names":["vizualizer","audioElement","audioSrc","audioContext","analyser","frequencyData","init","id","DataLength","AudioContext","webkitAudioContext","Error","document","getElementById","createMediaElementSource","createAnalyser","connect","destination","dataArray","Uint8Array","getByteFrequencyData","width","getElementsByTagName","clientWidth","height","clientHeight","svg","d3","select","append","attr","initBars","barNumber","bars","selectAll","data","enter","i","bind","setAttributeBars","attribut","value","renderBars","initStars","starsNumber","stars","Math","random","setAttributeStars","renderStars","initText","text","y","x","setAttributeText","renderText","mean","initCircle","circle","setAttributeCircle","renderCircle","initImage","href","image","setAttributeImage","renderImage","scaleCoeff","changeAudio","src","setAttribute","start","requestAnimationFrame","renderFunction","stop","pause","setRenderFunction","releaseHeart","heart","transition","duration","delay","blackHeart","releaseCircles","radius","circles","releaseColorSquare","colorSquare","changeColorSquareColor","color","style","startColorSquareBoom","ease","createMainCharacter","man","headXpos","headYpos","head","leftEye","rightEye","smile","speech","body","fadeManSpeech","fadeMan","appearMan","getReadyMan","startMainCharacter","n","secondToFrame","second","audioEl","addEventListener","littlestar","play","setTimeout","volume","remove"],"mappings":"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","file":"bar.07a4b7e5.map","sourceRoot":"..","sourcesContent":["/*jslint browser: true, devel: true*/\r\n/*global AudioContext, webkitAudioContext, Uint8Array, d3, requestAnimationFrame*/\r\n\r\nimport heart from './../img/heart.svg'\r\nimport blackHeart from './../img/blackHeart.svg'\r\n\r\nexport var vizualizer = {\r\n    audioElement: 0,\r\n    audioSrc: 0,\r\n    audioContext: 0,\r\n    analyser: 0,\r\n    frequencyData: 0,\r\n    init: function (id, DataLength) {\r\n        \"use strict\";\r\n        if (typeof AudioContext !== \"undefined\") {\r\n            this.audioContext = new AudioContext();\r\n        } else if (typeof webkitAudioContext !== \"undefined\") {\r\n            this.audioContext = new webkitAudioContext();\r\n        } else {\r\n            throw new Error('AudioContext not supported. :(');\r\n        }\r\n        this.audioElement = document.getElementById(id);\r\n        this.audioSrc = this.audioContext.createMediaElementSource(this.audioElement);\r\n        this.analyser = this.audioContext.createAnalyser();\r\n        this.audioSrc.connect(this.analyser);\r\n        this.audioSrc.connect(this.audioContext.destination);\r\n        this.dataArray = new Uint8Array(DataLength);\r\n        this.frequencyData = this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.width = document.getElementsByTagName(\"body\")[0].clientWidth;\r\n        this.height = document.getElementsByTagName(\"body\")[0].clientHeight;\r\n\r\n        this.svg = d3.select(\"body\").append(\"svg\")\r\n            .attr(\"width\", this.width)\r\n            .attr(\"height\", this.height);\r\n    },\r\n\r\n    //Bar Visualizer\r\n\r\n    initBars: function (barNumber) {\r\n        \"use strict\";\r\n        this.barNumber = barNumber;\r\n        this.bars = this.svg.selectAll(\"rect\").data(this.dataArray).enter().append(\"rect\");\r\n        this.bars.attr(\"width\", this.width / this.barNumber)\r\n            .attr(\"y\", this.height / 2)\r\n            .attr(\"x\", function (data, i) { return (this.width / this.barNumber * i); }.bind(this))\r\n            .attr(\"style\", \"fill:#000;\");\r\n        //.attr(\"transform\",  \"scale(1, -1) translate(0, -\" + this.height + \")\");\r\n    },\r\n    setAttributeBars: function (attribut, value) {\r\n        \"use strict\";\r\n        this.bars.attr(attribut, value);\r\n    },\r\n    renderBars: function () {\r\n        \"use strict\";\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.bars.data(this.dataArray)\r\n            .attr(\"height\", function (data) { return (1 + 0.5 * this.height * data / 255); }.bind(this))\r\n            .attr(\"style\", function (data) { return \"fill: rgb(\" + 125 + \",\" + (255 - data) + \",\" + data + \");\"; });\r\n    },\r\n\r\n    //Star Visualizer\r\n\r\n    initStars: function (starsNumber) {\r\n        \"use strict\";\r\n        this.starsNumber = starsNumber;\r\n        this.stars = this.svg.selectAll(\"circle\")\r\n            .data(this.dataArray)\r\n            .enter()\r\n            .append(\"circle\");\r\n        this.stars.attr(\"cx\", function (data) { return Math.random() * this.width; }.bind(this))\r\n            .attr(\"cy\", function (data) { return Math.random() * this.height; }.bind(this))\r\n            .attr(\"fill\", \"#fff\");\r\n    },\r\n    setAttributeStars: function (attribut, value) {\r\n        \"use strict\";\r\n        this.stars.attr(attribut, value);\r\n    },\r\n    renderStars: function () {\r\n        \"use strict\";\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.stars.data(this.dataArray)\r\n            .attr(\"style\", function (data) { return \"opacity:\" + data / 255 + \";\"; })\r\n            .attr(\"r\", function (data) { return data / 255 * 10; });\r\n    },\r\n\r\n    //Text Visualizer\r\n\r\n    initText: function (text, y, x) {\r\n        \"use strict\";\r\n        if (typeof (x) === \"undefined\") {\r\n            x = this.width / 2;\r\n        }\r\n        if (typeof (y) === \"undefined\") {\r\n            y = this.height / 2;\r\n        }\r\n        this.text = this.svg.append(\"text\")\r\n            .data(this.dataArray)\r\n            .text(text)\r\n            .attr(\"font-size\", 0)\r\n            .attr(\"fill\", \"#fff\")\r\n            .attr(\"opacity\", \"0.7\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr(\"x\", x)\r\n            .attr(\"y\", y);\r\n    },\r\n    setAttributeText: function (attribut, value) {\r\n        \"use strict\";\r\n        this.text.attr(attribut, value);\r\n    },\r\n    renderText: function () {\r\n        \"use strict\";\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.text.data(this.dataArray)\r\n            .attr(\"font-size\", 50 + d3.mean(this.dataArray) * 0.5 * this.height / 255);\r\n    },\r\n\r\n    //Circle Visualizer\r\n\r\n    initCircle: function () {\r\n        \"use strict\";\r\n        this.circle = this.svg.append(\"circle\")\r\n            .data(this.dataArray)\r\n            .attr(\"cx\", this.width / 2)\r\n            .attr(\"cy\", this.height / 2)\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"stroke\", \"#fff\")\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"opacity\", \"0.7\");\r\n    },\r\n    setAttributeCircle: function (attribut, value) {\r\n        \"use strict\";\r\n        this.circle.attr(attribut, value);\r\n    },\r\n    renderCircle: function () {\r\n        \"use strict\";\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.circle.data(this.dataArray)\r\n            .attr(\"r\", 150 + d3.mean(this.dataArray) * 0.5 * this.height / 255);\r\n    },\r\n\r\n    //Image Visualizer\r\n    initImage: function (href, width, height, x, y) {\r\n        \"use strict\";\r\n        if (typeof (width) === \"undefined\") {\r\n            width = this.width / 2;\r\n        }\r\n        if (typeof (height) === \"undefined\") {\r\n            height = this.height / 2;\r\n        }\r\n        if (typeof (x) === \"undefined\") {\r\n            x = this.width / 4;\r\n        }\r\n        if (typeof (y) === \"undefined\") {\r\n            y = this.height / 4;\r\n        }\r\n        this.image = this.svg.append(\"image\")\r\n            .data(this.dataArray)\r\n            .attr(\"x\", x)\r\n            .attr(\"y\", y)\r\n            .attr(\"width\", width)\r\n            .attr(\"height\", height)\r\n            .attr(\"xlink:href\", href)\r\n            .attr(\"preserveAspectRatio\", \"xMidYMid slice\");\r\n        this.image.x = x;\r\n        this.image.y = y;\r\n        this.image.width = width;\r\n        this.image.height = height;\r\n    },\r\n    setAttributeImage: function (attribut, value) {\r\n        \"use strict\";\r\n        this.image.attr(attribut, value);\r\n    },\r\n    renderImage: function () {\r\n        \"use strict\";\r\n        var scaleCoeff;\r\n        scaleCoeff = 1 + d3.mean(this.dataArray) / 255;\r\n        this.analyser.getByteFrequencyData(this.dataArray);\r\n        this.image.data(this.dataArray)\r\n            .attr(\"transform\", \"scale(\" + scaleCoeff + \")\")\r\n            .attr(\"x\", this.image.x - (this.image.width * scaleCoeff - this.image.width) / scaleCoeff)\r\n            .attr(\"y\", this.image.y - (this.image.height * scaleCoeff - this.image.height) / scaleCoeff);\r\n    },\r\n\r\n    //Vizualizer Functions\r\n\r\n    changeAudio: function (src) {\r\n        \"use strict\";\r\n        this.audioElement.setAttribute(\"src\", src);\r\n    },\r\n    start: function () {\r\n        \"use strict\";\r\n        //this.audioElement.play();\r\n        requestAnimationFrame(this.renderFunction);\r\n    },\r\n    stop: function () {\r\n        \"use strict\";\r\n        this.audioElement.pause();\r\n    },\r\n    setRenderFunction: function (renderFunction) {\r\n        \"use strict\";\r\n        this.renderFunction = renderFunction;\r\n\r\n    },\r\n\r\n    // A Little Story\r\n\r\n    releaseHeart: function () {\r\n        \"use strict\";\r\n        this.heart = this.svg\r\n            .selectAll(\"image\")\r\n            .data(this.dataArray)\r\n            .enter()\r\n            .append(\"image\")\r\n            .attr(\"x\", this.width - 175)\r\n            .attr(\"y\", this.height - 100)\r\n            .attr(\"width\", 25)\r\n            .attr(\"height\", 25)\r\n            .attr(\"xlink:href\", heart)\r\n            .attr(\"preserveAspectRatio\", \"xMidYMid slice\")\r\n            .attr(\"fill\", \"#fff\")\r\n            .transition()\r\n            .attr(\"x\", function (data, i) { return Math.random() * 2000 - 1000; })\r\n            .attr(\"y\", function (data, i) { return -Math.random() * 1000 - 30; })\r\n            .duration(10000)\r\n            .delay(function (data, i) { return i / 896 * 10000; });\r\n\r\n        this.blackHeart = this.svg.append(\"image\")\r\n            .attr(\"width\", 25)\r\n            .attr(\"height\", 25)\r\n            .attr(\"x\", this.width - 175)\r\n            .attr(\"y\", this.height - 100)\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"xlink:href\", blackHeart);\r\n        this.blackHeart\r\n            .transition()\r\n            .attr(\"x\", this.width / 2)\r\n            .attr(\"y\", this.height / 2)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10000)\r\n            .delay(7000)\r\n            .transition()\r\n            .attr(\"x\", -this.width / 2 * 4)\r\n            .attr(\"y\", -this.height / 2 * 4)\r\n            .attr(\"width\", this.width * 5)\r\n            .attr(\"height\", this.height * 5)\r\n            .duration(5000);\r\n    },\r\n    releaseCircles: function () {\r\n        \"use strict\";\r\n        var i, radius;\r\n        i = 0;\r\n        radius = 150 + 255 * 0.5 * this.height / 255;\r\n\r\n        this.circles = this.svg\r\n            .append(\"circle\")\r\n            .attr(\"cx\", this.width / 2)\r\n            .attr(\"cy\", this.height / 2)\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"stroke\", \"#fff\")\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"opacity\", \"0\")\r\n            .attr(\"r\", 50);\r\n        this.circles\r\n            .transition()\r\n            .attr(\"opacity\", 1)\r\n            .duration(5000)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(100)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500)\r\n            .transition()\r\n            .attr(\"r\", 50)\r\n            .attr(\"opacity\", 1)\r\n            .duration(10)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .attr(\"r\", radius)\r\n            .duration(500);\r\n    },\r\n    releaseColorSquare: function () {\r\n        \"use strict\";\r\n\r\n        this.colorSquare = this.svg.append(\"rect\")\r\n            .attr(\"x\", this.width + 150)\r\n            .attr(\"y\", this.height / 2 - 100)\r\n            .attr(\"height\", 100)\r\n            .attr(\"width\", 100)\r\n            .attr(\"fill\", \"#7E45E8\");\r\n\r\n        this.colorSquare.transition()\r\n            .attr(\"x\", this.width / 2 + 100)\r\n            .duration(10000);\r\n        //.ease(\"linear\");\r\n    },\r\n    changeColorSquareColor: function (color, duration) {\r\n        \"use strict\";\r\n        this.colorSquare.transition()\r\n            .style(\"fill\", color)\r\n            .duration(duration);\r\n    },\r\n    startColorSquareBoom: function () {\r\n        \"use strict\";\r\n        this.colorSquare.transition()\r\n            .style(\"fill\", \"#9FFF6D\")\r\n            .attr(\"y\", this.height / 2 - 125)\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#7E45E8\")\r\n            .attr(\"y\", this.height / 2 - 150)\r\n            .duration(800)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#B0FFAD\")\r\n            .attr(\"y\", this.height / 2 - 175)\r\n            .duration(800)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#6D60E8\")\r\n            .attr(\"y\", this.height / 2 - 210)\r\n            .duration(800)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#9FFF6D\")\r\n            .attr(\"y\", this.height / 2 - 160)\r\n            .duration(500)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .style(\"fill\", \"#7E45E8\")\r\n            .attr(\"y\", this.height / 2 - 100)\r\n            .ease(\"linear\")\r\n            .duration(400)\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .duration(500);\r\n    },\r\n\r\n    createMainCharacter: function () {\r\n        \"use strict\";\r\n        var text;\r\n        this.man = {};\r\n        this.man.headXpos = this.width / 2;\r\n        this.man.headYpos = this.height / 2 - 100;\r\n        this.man.head = this.svg.append(\"circle\")\r\n            .attr(\"r\", 20)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"#f0f0f0\")\r\n            .attr(\"cx\", this.width / 2)\r\n            .attr(\"cy\", this.height / 2 - 100);\r\n        this.man.leftEye = this.svg.append(\"circle\")\r\n            .attr(\"r\", 2)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"#000\")\r\n            .attr(\"cx\", this.width / 2 + 6)\r\n            .attr(\"cy\", this.height / 2 - 105);\r\n        this.man.rightEye = this.svg.append(\"circle\")\r\n            .attr(\"r\", 2)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"#000\")\r\n            .attr(\"cx\", this.width / 2 - 6)\r\n            .attr(\"cy\", this.height / 2 - 105);\r\n\r\n        this.smile = [\r\n            [this.width / 2 - 8, this.height / 2 - 93],\r\n            [this.width / 2 - 2, this.height / 2 - 90],\r\n            [this.width / 2 + 2, this.height / 2 - 90],\r\n            [this.width / 2 + 8, this.height / 2 - 93]\r\n        ];\r\n\r\n        text = this.smile[0][0] + \",\" + this.smile[0][1];\r\n        text += \" \" + this.smile[1][0] + \",\" + this.smile[1][1];\r\n        text += \" \" + this.smile[2][0] + \",\" + this.smile[2][1];\r\n        text += \" \" + this.smile[3][0] + \",\" + this.smile[3][1];\r\n\r\n        this.man.smile = this.svg.append(\"polyline\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"fill\", \"none\")\r\n            .attr(\"points\", text);\r\n\r\n        this.man.speech = this.svg.append(\"text\")\r\n            .text(\"Hello Everybody:\")\r\n            .attr(\"font-size\", 40)\r\n            .attr(\"fill\", \"#000\")\r\n            .attr(\"opacity\", \"1\")\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr(\"x\", this.width / 2 - 50)\r\n            .attr(\"y\", this.height / 2 - 150);\r\n\r\n        this.man.body = this.svg.append(\"rect\")\r\n            .attr(\"x\", this.width / 2 - 25)\r\n            .attr(\"y\", this.height / 2 - 70)\r\n            .attr(\"width\", 50)\r\n            .attr(\"height\", 70)\r\n            .attr(\"stroke\", \"#000\")\r\n            .attr(\"stroke-width\", 2)\r\n            .attr(\"fill\", \"#f0f0f0\");\r\n    },\r\n    fadeManSpeech: function (duration) {\r\n        \"use strict\";\r\n        this.man.speech.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n    },\r\n    fadeMan: function (duration) {\r\n        \"use strict\";\r\n        this.man.head.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n        this.man.body.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n        this.man.smile.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n        this.man.leftEye.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n        this.man.rightEye.transition()\r\n            .attr(\"opacity\", \"0\")\r\n            .duration(duration);\r\n    },\r\n    appearMan: function (duration) {\r\n        \"use strict\";\r\n        this.man.head.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n        this.man.body.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n        this.man.smile.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n        this.man.leftEye.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n        this.man.rightEye.transition()\r\n            .attr(\"opacity\", \"1\")\r\n            .duration(duration);\r\n    },\r\n    getReadyMan: function () {\r\n        \"use strict\";\r\n        this.man.head\r\n            .transition()\r\n            .attr(\"transform\", \"translate(50, 0)\")\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 50) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(6000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 25) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(1000)\r\n            .ease(\"linear\");\r\n        this.man.rightEye\r\n            .transition()\r\n            .attr(\"transform\", \"translate(65, 0)\")\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 35) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(6000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 40) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(1000)\r\n            .ease(\"linear\");\r\n        this.man.leftEye\r\n            .transition()\r\n            .attr(\"transform\", \"translate(10, 0)\")\r\n            .duration(200)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"opacity\", 0)\r\n            .duration(20);\r\n\r\n        this.man.body\r\n            .transition()\r\n            .attr(\"transform\", \"translate(50, 0)\")\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 50) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(6000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 25) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(1000)\r\n            .ease(\"linear\");\r\n\r\n        this.man.smile\r\n            .transition()\r\n            .attr(\"transform\", \"translate(65, 0)\")\r\n            .duration(1000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"points\", this.smile[0][0] + \",\" + this.smile[0][1] + \" \" + this.smile[1][0] + \",\" + this.smile[1][1] + \" \" + this.smile[2][0] + \",\" + this.smile[2][1])\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 35) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(6000)\r\n            .ease(\"linear\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 40) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(1000)\r\n            .ease(\"linear\");\r\n    },\r\n    startMainCharacter: function () {\r\n        \"use strict\";\r\n        this.man.head\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 100) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(3000)\r\n            .ease(\"linear\");\r\n        this.man.rightEye\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 15) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 105) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(3000)\r\n            .ease(\"linear\");\r\n\r\n        this.man.body\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 100) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(3000)\r\n            .ease(\"linear\");\r\n\r\n        this.man.smile\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos + 7) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .attr(\"points\", this.smile[1][0] + \",\" + this.smile[1][1] + \" \" + this.smile[2][0] + \",\" + this.smile[2][1] + \" \" + this.smile[3][0] + \",\" + this.smile[3][1])\r\n            .transition()\r\n            .attr(\"transform\", \"translate(\" + (this.width - this.man.headXpos - 113) + \",\" + (this.height - this.man.headYpos - 100) + \")\")\r\n            .duration(3000)\r\n            .ease(\"linear\");\r\n    }\r\n\r\n\r\n\r\n};","import { vizualizer } from './vizualizer0.3';\r\nimport littlestar from './../audio/12-little-star.mp3';\r\n\r\nlet n = 512,\r\n    i = 0;\r\n\r\nvizualizer.init(\"audio1\", n);\r\nvizualizer.initBars(100);\r\nvizualizer.initStars(n);\r\nvizualizer.initText(\"Have a good day\");\r\nvizualizer.initCircle();\r\nconst secondToFrame = second => 60 * second;\r\n\r\nconst audioEl = document.getElementById(\"audio1\");\r\n\r\naudioEl.addEventListener(\"ended\", () => {\r\n    vizualizer.changeAudio(littlestar);\r\n    vizualizer.audioElement.play();\r\n\r\n    audioEl.addEventListener(\"ended\", () => {\r\n        vizualizer.text.text(\"The End\");\r\n        vizualizer.stop();\r\n    });\r\n});\r\n\r\nconst renderFunction = function () {\r\n    setTimeout(() => {\r\n        requestAnimationFrame(this.renderFunction);\r\n        switch (i) {\r\n            case 1:\r\n                this.createMainCharacter();\r\n            case secondToFrame(3):\r\n                this.man.speech.text(\"Enjoy the show :)\");\r\n                break;\r\n            case secondToFrame(7):\r\n                this.man.speech.text(\"Use Chrome for better compatibility\");\r\n                break;\r\n            case secondToFrame(11):\r\n                this.man.speech.text(\"Advice: FullScreen with F11 then refresh with F5\");\r\n                break;\r\n            case secondToFrame(18):\r\n                this.man.speech.text(\"Ready ? Let's go!\");\r\n                break;\r\n            case secondToFrame(20):\r\n                this.getReadyMan();\r\n                break;\r\n            case secondToFrame(28):\r\n                this.audioElement.play();\r\n                this.audioElement.volume = 0.5;\r\n                this.man.speech.attr(\"font-size\", 60);\r\n                this.man.speech.text(\"A Little Story\");\r\n                break;\r\n            case secondToFrame(32):\r\n                this.fadeManSpeech(1000);\r\n                this.startMainCharacter();\r\n                break;\r\n            case secondToFrame(38):\r\n                this.releaseHeart();\r\n                break;\r\n            case secondToFrame(60):\r\n                this.svg.style(\"background-color\", \"#000\");\r\n                this.blackHeart.remove();\r\n                this.man.head.attr(\"transform\", null);\r\n                this.man.body.attr(\"transform\", null);\r\n                this.man.leftEye.attr(\"opacity\", 1)\r\n                    .attr(\"transform\", null);\r\n                this.man.rightEye.attr(\"transform\", null);\r\n\r\n                this.man.smile.attr(\"transform\", null);\r\n\r\n                this.man.speech.attr(\"fill\", \"white\")\r\n                    .attr(\"opacity\", 1);\r\n                this.man.speech.text(\" \");\r\n                break;\r\n            case secondToFrame(69):\r\n                this.releaseCircles();\r\n                break;\r\n            case secondToFrame(100):\r\n                this.circles.remove();\r\n                this.circle.remove();\r\n                break;\r\n            case secondToFrame(116):\r\n                this.fadeMan();\r\n                break;\r\n            case secondToFrame(130):\r\n                this.releaseColorSquare();\r\n                break;\r\n            case secondToFrame(142):\r\n                this.startColorSquareBoom();\r\n                break;\r\n            case secondToFrame(185):\r\n                this.bars.transition()\r\n                    .attr(\"opacity\", \"0\")\r\n                    .duration(5000)\r\n                    .ease(\"linear\");\r\n                break;\r\n            case secondToFrame(61): // Poeme\r\n                this.man.speech.text(\"I am like a god\");\r\n                break;\r\n            case secondToFrame(64):\r\n                this.man.speech.text(\"Who can create everything\");\r\n                break;\r\n            case secondToFrame(68):\r\n                this.man.speech.text(\"The shadow of a planet\");\r\n                break;\r\n            case secondToFrame(72):\r\n                this.man.speech.text(\"Is a beautiful thing\");\r\n                break;\r\n            case secondToFrame(76):\r\n                this.man.speech.text(\"But I am feeling odd\");\r\n                break;\r\n            case secondToFrame(79):\r\n                this.man.speech.text(\"Maybe I am not ready yet\");\r\n                break;\r\n            case secondToFrame(83):\r\n                this.man.speech.text(\"To create something\");\r\n                break;\r\n            case secondToFrame(86):\r\n                this.man.speech.text(\"That will be perfect\");\r\n                break;\r\n            case secondToFrame(89):\r\n                this.man.smile\r\n                    .attr(\"points\", this.smile[0][0] + \",\" + this.smile[0][1] + \" \" + this.smile[1][0] + \",\" + this.smile[1][1] + \" \" + this.smile[2][0] + \",\" + this.smile[2][1] + \" \" + this.smile[3][0] + \",\" + this.smile[3][1]);\r\n                this.man.speech.text(\"Nothing will stop me\");\r\n                break;\r\n            case secondToFrame(92):\r\n                this.man.speech.text(\"I will transform the sky\");\r\n                break;\r\n            case secondToFrame(95):\r\n                this.man.speech.text(\"I hope you are ready\");\r\n                break;\r\n            case secondToFrame(98):\r\n                this.man.speech.text(\"I am prepared to try\");\r\n                break;\r\n            case secondToFrame(103):\r\n                this.man.speech.text(\"Twinkle Twinkle Little Star\");\r\n                break;\r\n            case secondToFrame(107):\r\n                this.man.speech.text(\"The stronger the music is\");\r\n                break;\r\n            case secondToFrame(110):\r\n                this.man.speech.text(\"The brighter you are\");\r\n                break;\r\n            case secondToFrame(114):\r\n                this.fadeManSpeech(1000);\r\n                break;\r\n            case secondToFrame(163):\r\n                this.appearMan(1000);\r\n                break;\r\n            case secondToFrame(165):\r\n                this.man.speech.attr(\"opacity\", 1);\r\n                this.man.speech.text(\"See you soon\");\r\n                break;\r\n            case secondToFrame(170):\r\n                this.fadeManSpeech(1000);\r\n                this.fadeMan(1000);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (i >= secondToFrame(76) && i < secondToFrame(100)) {\r\n            this.renderCircle();\r\n        } else if (i >= secondToFrame(115) && i < secondToFrame(145)) {\r\n            this.renderStars();\r\n        } else if (i >= secondToFrame(144.5) && i < secondToFrame(185)) {\r\n            this.renderBars();\r\n        } else if (i >= secondToFrame(185)) {\r\n            this.renderStars();\r\n            this.renderText();\r\n        }\r\n        i += 1;\r\n    }, 1000 / 60);\r\n}.bind(vizualizer);\r\n\r\nvizualizer.setRenderFunction(renderFunction);\r\nvizualizer.start();\r\n"]}