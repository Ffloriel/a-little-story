parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"YwJ1":[function(require,module,exports) {
module.exports="/a-little-story/heart.e06f5a34.svg";
},{}],"x+Jp":[function(require,module,exports) {
module.exports="/a-little-story/blackHeart.011e95a9.svg";
},{}],"FSrW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vizualizer=void 0;var t=a(require("./../img/heart.svg")),i=a(require("./../img/blackHeart.svg"));function a(t){return t&&t.__esModule?t:{default:t}}var r={audioElement:0,audioSrc:0,audioContext:0,analyser:0,frequencyData:0,init:function(t,i){if("undefined"!=typeof AudioContext)this.audioContext=new AudioContext;else{if("undefined"==typeof webkitAudioContext)throw new Error("AudioContext not supported. :(");this.audioContext=new webkitAudioContext}this.audioElement=document.getElementById(t),this.audioSrc=this.audioContext.createMediaElementSource(this.audioElement),this.analyser=this.audioContext.createAnalyser(),this.audioSrc.connect(this.analyser),this.audioSrc.connect(this.audioContext.destination),this.dataArray=new Uint8Array(i),this.frequencyData=this.analyser.getByteFrequencyData(this.dataArray),this.width=document.getElementsByTagName("body")[0].clientWidth,this.height=document.getElementsByTagName("body")[0].clientHeight,this.svg=d3.select("body").append("svg").attr("width",this.width).attr("height",this.height)},initBars:function(t){this.barNumber=t,this.bars=this.svg.selectAll("rect").data(this.dataArray).enter().append("rect"),this.bars.attr("width",this.width/this.barNumber).attr("y",this.height/2).attr("x",function(t,i){return this.width/this.barNumber*i}.bind(this)).attr("style","fill:#000;")},setAttributeBars:function(t,i){this.bars.attr(t,i)},renderBars:function(){this.analyser.getByteFrequencyData(this.dataArray),this.bars.data(this.dataArray).attr("height",function(t){return 1+.5*this.height*t/255}.bind(this)).attr("style",function(t){return"fill: rgb(125,"+(255-t)+","+t+");"})},initStars:function(t){this.starsNumber=t,this.stars=this.svg.selectAll("circle").data(this.dataArray).enter().append("circle"),this.stars.attr("cx",function(t){return Math.random()*this.width}.bind(this)).attr("cy",function(t){return Math.random()*this.height}.bind(this)).attr("fill","#fff")},setAttributeStars:function(t,i){this.stars.attr(t,i)},renderStars:function(){this.analyser.getByteFrequencyData(this.dataArray),this.stars.data(this.dataArray).attr("style",function(t){return"opacity:"+t/255+";"}).attr("r",function(t){return t/255*10})},initText:function(t,i,a){void 0===a&&(a=this.width/2),void 0===i&&(i=this.height/2),this.text=this.svg.append("text").data(this.dataArray).text(t).attr("font-size",0).attr("fill","#fff").attr("opacity","0.7").attr("text-anchor","middle").attr("x",a).attr("y",i)},setAttributeText:function(t,i){this.text.attr(t,i)},renderText:function(){this.analyser.getByteFrequencyData(this.dataArray),this.text.data(this.dataArray).attr("font-size",50+.5*d3.mean(this.dataArray)*this.height/255)},initCircle:function(){this.circle=this.svg.append("circle").data(this.dataArray).attr("cx",this.width/2).attr("cy",this.height/2).attr("stroke-width",2).attr("stroke","#fff").attr("fill","none").attr("opacity","0.7")},setAttributeCircle:function(t,i){this.circle.attr(t,i)},renderCircle:function(){this.analyser.getByteFrequencyData(this.dataArray),this.circle.data(this.dataArray).attr("r",150+.5*d3.mean(this.dataArray)*this.height/255)},initImage:function(t,i,a,r,e){void 0===i&&(i=this.width/2),void 0===a&&(a=this.height/2),void 0===r&&(r=this.width/4),void 0===e&&(e=this.height/4),this.image=this.svg.append("image").data(this.dataArray).attr("x",r).attr("y",e).attr("width",i).attr("height",a).attr("xlink:href",t).attr("preserveAspectRatio","xMidYMid slice"),this.image.x=r,this.image.y=e,this.image.width=i,this.image.height=a},setAttributeImage:function(t,i){this.image.attr(t,i)},renderImage:function(){var t;t=1+d3.mean(this.dataArray)/255,this.analyser.getByteFrequencyData(this.dataArray),this.image.data(this.dataArray).attr("transform","scale("+t+")").attr("x",this.image.x-(this.image.width*t-this.image.width)/t).attr("y",this.image.y-(this.image.height*t-this.image.height)/t)},changeAudio:function(t){this.audioElement.setAttribute("src",t)},start:function(){requestAnimationFrame(this.renderFunction)},stop:function(){this.audioElement.pause()},setRenderFunction:function(t){this.renderFunction=t},releaseHeart:function(){this.heart=this.svg.selectAll("image").data(this.dataArray).enter().append("image").attr("x",this.width-175).attr("y",this.height-100).attr("width",25).attr("height",25).attr("xlink:href",t.default).attr("preserveAspectRatio","xMidYMid slice").attr("fill","#fff").transition().attr("x",function(t,i){return 2e3*Math.random()-1e3}).attr("y",function(t,i){return 1e3*-Math.random()-30}).duration(1e4).delay(function(t,i){return i/896*1e4}),this.blackHeart=this.svg.append("image").attr("width",25).attr("height",25).attr("x",this.width-175).attr("y",this.height-100).attr("opacity",0).attr("xlink:href",i.default),this.blackHeart.transition().attr("x",this.width/2).attr("y",this.height/2).attr("opacity",1).duration(1e4).delay(7e3).transition().attr("x",-this.width/2*4).attr("y",-this.height/2*4).attr("width",5*this.width).attr("height",5*this.height).duration(5e3)},releaseCircles:function(){var t;t=150+127.5*this.height/255,this.circles=this.svg.append("circle").attr("cx",this.width/2).attr("cy",this.height/2).attr("stroke-width",2).attr("stroke","#fff").attr("fill","none").attr("opacity","0").attr("r",50),this.circles.transition().attr("opacity",1).duration(5e3).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(100).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500).transition().attr("r",50).attr("opacity",1).duration(10).transition().attr("opacity",0).attr("r",t).duration(500)},releaseColorSquare:function(){this.colorSquare=this.svg.append("rect").attr("x",this.width+150).attr("y",this.height/2-100).attr("height",100).attr("width",100).attr("fill","#7E45E8"),this.colorSquare.transition().attr("x",this.width/2+100).duration(1e4)},changeColorSquareColor:function(t,i){this.colorSquare.transition().style("fill",t).duration(i)},startColorSquareBoom:function(){this.colorSquare.transition().style("fill","#9FFF6D").attr("y",this.height/2-125).duration(1e3).ease("linear").transition().style("fill","#7E45E8").attr("y",this.height/2-150).duration(800).ease("linear").transition().style("fill","#B0FFAD").attr("y",this.height/2-175).duration(800).ease("linear").transition().style("fill","#6D60E8").attr("y",this.height/2-210).duration(800).ease("linear").transition().style("fill","#9FFF6D").attr("y",this.height/2-160).duration(500).ease("linear").transition().style("fill","#7E45E8").attr("y",this.height/2-100).ease("linear").duration(400).transition().attr("opacity",0).duration(500)},createMainCharacter:function(){var t;this.man={},this.man.headXpos=this.width/2,this.man.headYpos=this.height/2-100,this.man.head=this.svg.append("circle").attr("r",20).attr("stroke","#000").attr("stroke-width",2).attr("fill","#f0f0f0").attr("cx",this.width/2).attr("cy",this.height/2-100),this.man.leftEye=this.svg.append("circle").attr("r",2).attr("stroke","#000").attr("stroke-width",2).attr("fill","#000").attr("cx",this.width/2+6).attr("cy",this.height/2-105),this.man.rightEye=this.svg.append("circle").attr("r",2).attr("stroke","#000").attr("stroke-width",2).attr("fill","#000").attr("cx",this.width/2-6).attr("cy",this.height/2-105),this.smile=[[this.width/2-8,this.height/2-93],[this.width/2-2,this.height/2-90],[this.width/2+2,this.height/2-90],[this.width/2+8,this.height/2-93]],t=this.smile[0][0]+","+this.smile[0][1],t+=" "+this.smile[1][0]+","+this.smile[1][1],t+=" "+this.smile[2][0]+","+this.smile[2][1],t+=" "+this.smile[3][0]+","+this.smile[3][1],this.man.smile=this.svg.append("polyline").attr("stroke-width",2).attr("stroke","#000").attr("fill","none").attr("points",t),this.man.speech=this.svg.append("text").text("Hello Everybody:").attr("font-size",40).attr("fill","#000").attr("opacity","1").attr("text-anchor","middle").attr("x",this.width/2-50).attr("y",this.height/2-150),this.man.body=this.svg.append("rect").attr("x",this.width/2-25).attr("y",this.height/2-70).attr("width",50).attr("height",70).attr("stroke","#000").attr("stroke-width",2).attr("fill","#f0f0f0")},fadeManSpeech:function(t){this.man.speech.transition().attr("opacity","0").duration(t)},fadeMan:function(t){this.man.head.transition().attr("opacity","0").duration(t),this.man.body.transition().attr("opacity","0").duration(t),this.man.smile.transition().attr("opacity","0").duration(t),this.man.leftEye.transition().attr("opacity","0").duration(t),this.man.rightEye.transition().attr("opacity","0").duration(t)},appearMan:function(t){this.man.head.transition().attr("opacity","1").duration(t),this.man.body.transition().attr("opacity","1").duration(t),this.man.smile.transition().attr("opacity","1").duration(t),this.man.leftEye.transition().attr("opacity","1").duration(t),this.man.rightEye.transition().attr("opacity","1").duration(t)},getReadyMan:function(){this.man.head.transition().attr("transform","translate(50, 0)").duration(1e3).ease("linear").transition().attr("transform","translate("+(this.width-this.man.headXpos-50)+","+(this.height-this.man.headYpos-100)+")").duration(6e3).ease("linear").transition().attr("transform","translate("+(this.width-this.man.headXpos+25)+","+(this.height-this.man.headYpos-100)+")").duration(1e3).ease("linear"),this.man.rightEye.transition().attr("transform","translate(65, 0)").duration(1e3).ease("linear").transition().attr("transform","translate("+(this.width-this.man.headXpos-35)+","+(this.height-this.man.headYpos-100)+")").duration(6e3).ease("linear").transition().attr("transform","translate("+(this.width-this.man.headXpos+40)+","+(this.height-this.man.headYpos-100)+")").duration(1e3).ease("linear"),this.man.leftEye.transition().attr("transform","translate(10, 0)").duration(200).ease("linear").transition().attr("opacity",0).duration(20),this.man.body.transition().attr("transform","translate(50, 0)").duration(1e3).ease("linear").transition().attr("transform","translate("+(this.width-this.man.headXpos-50)+","+(this.height-this.man.headYpos-100)+")").duration(6e3).ease("linear").transition().attr("transform","translate("+(this.width-this.man.headXpos+25)+","+(this.height-this.man.headYpos-100)+")").duration(1e3).ease("linear"),this.man.smile.transition().attr("transform","translate(65, 0)").duration(1e3).ease("linear").transition().attr("points",this.smile[0][0]+","+this.smile[0][1]+" "+this.smile[1][0]+","+this.smile[1][1]+" "+this.smile[2][0]+","+this.smile[2][1]).attr("transform","translate("+(this.width-this.man.headXpos-35)+","+(this.height-this.man.headYpos-100)+")").duration(6e3).ease("linear").transition().attr("transform","translate("+(this.width-this.man.headXpos+40)+","+(this.height-this.man.headYpos-100)+")").duration(1e3).ease("linear")},startMainCharacter:function(){this.man.head.transition().attr("transform","translate("+(this.width-this.man.headXpos-100)+","+(this.height-this.man.headYpos-100)+")").duration(3e3).ease("linear"),this.man.rightEye.attr("transform","translate("+(this.width-this.man.headXpos+15)+","+(this.height-this.man.headYpos-100)+")").transition().attr("transform","translate("+(this.width-this.man.headXpos-105)+","+(this.height-this.man.headYpos-100)+")").duration(3e3).ease("linear"),this.man.body.transition().attr("transform","translate("+(this.width-this.man.headXpos-100)+","+(this.height-this.man.headYpos-100)+")").duration(3e3).ease("linear"),this.man.smile.attr("transform","translate("+(this.width-this.man.headXpos+7)+","+(this.height-this.man.headYpos-100)+")").attr("points",this.smile[1][0]+","+this.smile[1][1]+" "+this.smile[2][0]+","+this.smile[2][1]+" "+this.smile[3][0]+","+this.smile[3][1]).transition().attr("transform","translate("+(this.width-this.man.headXpos-113)+","+(this.height-this.man.headYpos-100)+")").duration(3e3).ease("linear")}};exports.vizualizer=r;
},{"./../img/heart.svg":"YwJ1","./../img/blackHeart.svg":"x+Jp"}],"tpN5":[function(require,module,exports) {
module.exports="/a-little-story/12-little-star.ab7bf652.mp3";
},{}],"qSat":[function(require,module,exports) {
"use strict";var e=require("./vizualizer0.3"),a=t(require("./../audio/12-little-star.mp3"));function t(e){return e&&e.__esModule?e:{default:e}}var r=512,s=0;e.vizualizer.init("audio1",r),e.vizualizer.initBars(100),e.vizualizer.initStars(r),e.vizualizer.initText("Have a good day"),e.vizualizer.initCircle();var n=function(e){return 60*e},i=document.getElementById("audio1");i.addEventListener("ended",function(){e.vizualizer.changeAudio(a.default),e.vizualizer.audioElement.play(),i.addEventListener("ended",function(){e.vizualizer.text.text("The End"),e.vizualizer.stop()})});var c=function(){var e=this;setTimeout(function(){switch(requestAnimationFrame(e.renderFunction),s){case 1:e.createMainCharacter();case n(3):e.man.speech.text("Enjoy the show :)");break;case n(7):e.man.speech.text("Use Chrome for better compatibility");break;case n(11):e.man.speech.text("Advice: FullScreen with F11 then refresh with F5");break;case n(18):e.man.speech.text("Ready ? Let's go!");break;case n(20):e.getReadyMan();break;case n(28):e.audioElement.play(),e.audioElement.volume=.5,e.man.speech.attr("font-size",60),e.man.speech.text("A Little Story");break;case n(32):e.fadeManSpeech(1e3),e.startMainCharacter();break;case n(38):e.releaseHeart();break;case n(60):e.svg.style("background-color","#000"),e.blackHeart.remove(),e.man.head.attr("transform",null),e.man.body.attr("transform",null),e.man.leftEye.attr("opacity",1).attr("transform",null),e.man.rightEye.attr("transform",null),e.man.smile.attr("transform",null),e.man.speech.attr("fill","white").attr("opacity",1),e.man.speech.text(" ");break;case n(69):e.releaseCircles();break;case n(100):e.circles.remove(),e.circle.remove();break;case n(116):e.fadeMan();break;case n(130):e.releaseColorSquare();break;case n(142):e.startColorSquareBoom();break;case n(185):e.bars.transition().attr("opacity","0").duration(5e3).ease("linear");break;case n(61):e.man.speech.text("I am like a god");break;case n(64):e.man.speech.text("Who can create everything");break;case n(68):e.man.speech.text("The shadow of a planet");break;case n(72):e.man.speech.text("Is a beautiful thing");break;case n(76):e.man.speech.text("But I am feeling odd");break;case n(79):e.man.speech.text("Maybe I am not ready yet");break;case n(83):e.man.speech.text("To create something");break;case n(86):e.man.speech.text("That will be perfect");break;case n(89):e.man.smile.attr("points",e.smile[0][0]+","+e.smile[0][1]+" "+e.smile[1][0]+","+e.smile[1][1]+" "+e.smile[2][0]+","+e.smile[2][1]+" "+e.smile[3][0]+","+e.smile[3][1]),e.man.speech.text("Nothing will stop me");break;case n(92):e.man.speech.text("I will transform the sky");break;case n(95):e.man.speech.text("I hope you are ready");break;case n(98):e.man.speech.text("I am prepared to try");break;case n(103):e.man.speech.text("Twinkle Twinkle Little Star");break;case n(107):e.man.speech.text("The stronger the music is");break;case n(110):e.man.speech.text("The brighter you are");break;case n(114):e.fadeManSpeech(1e3);break;case n(163):e.appearMan(1e3);break;case n(165):e.man.speech.attr("opacity",1),e.man.speech.text("See you soon");break;case n(170):e.fadeManSpeech(1e3),e.fadeMan(1e3)}s>=n(76)&&s<n(100)?e.renderCircle():s>=n(115)&&s<n(145)?e.renderStars():s>=n(144.5)&&s<n(185)?e.renderBars():s>=n(185)&&(e.renderStars(),e.renderText()),s+=1},1e3/60)}.bind(e.vizualizer);e.vizualizer.setRenderFunction(c),e.vizualizer.start();
},{"./vizualizer0.3":"FSrW","./../audio/12-little-star.mp3":"tpN5"}]},{},["qSat"], null)
//# sourceMappingURL=/a-little-story/bar.07a4b7e5.map